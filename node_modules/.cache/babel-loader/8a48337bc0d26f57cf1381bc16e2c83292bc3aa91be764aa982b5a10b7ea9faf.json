{"ast":null,"code":"import { mapActions, mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      newProduct: {\n        title: '',\n        brand: '',\n        description: ''\n      },\n      showModal: false,\n      editedProductTitle: '',\n      editedProductBrand: '',\n      editedProductDescription: '',\n      editedProductIndex: -1\n    };\n  },\n  computed: {\n    ...mapState('productsdata', ['products'])\n  },\n  methods: {\n    ...mapActions('productsdata', ['GET_PRODUCTS', 'CREATE_PRODUCT', 'DELETE_PRODUCT', 'UPDATE_PRODUCT_BY_ID']),\n    async addProduct() {\n      await this.CREATE_PRODUCT(this.newProduct);\n      this.newProduct = {\n        title: '',\n        brand: '',\n        description: ''\n      };\n    },\n    async deleteProduct(productId) {\n      await this.DELETE_PRODUCT(productId);\n    },\n    openModal(product) {\n      this.editedProductIndex = this.products.findIndex(p => p.id === product.id);\n      this.editedProductTitle = product.title;\n      this.editedProductBrand = product.brand;\n      this.editedProductDescription = product.description;\n      this.showModal = true;\n    },\n    closeModal() {\n      this.showModal = false;\n      this.editedProductIndex = -1;\n      this.editedProductTitle = '';\n    },\n    async updateProduct() {\n      if (this.editedProductIndex !== -1) {\n        const productId = this.products[this.editedProductIndex].id;\n        const updatedProductData = {\n          title: this.editedProductTitle,\n          brand: this.editedProductBrand,\n          description: this.editedProductDescription\n        };\n        await this.UPDATE_PRODUCT_BY_ID({\n          id: productId,\n          updatedProductData\n        });\n        this.closeModal();\n      }\n    }\n  },\n  async created() {\n    await this.GET_PRODUCTS();\n  }\n};","map":{"version":3,"names":["mapActions","mapState","data","newProduct","title","brand","description","showModal","editedProductTitle","editedProductBrand","editedProductDescription","editedProductIndex","computed","methods","addProduct","CREATE_PRODUCT","deleteProduct","productId","DELETE_PRODUCT","openModal","product","products","findIndex","p","id","closeModal","updateProduct","updatedProductData","UPDATE_PRODUCT_BY_ID","created","GET_PRODUCTS"],"sources":["C:\\Users\\Vanckoe\\OneDrive\\Documents\\work\\Noncomercial\\lara\\crud\\src\\views\\ProductsData.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"mb-5\">\r\n      <h3 class=\"mb-3\">Add Product</h3>\r\n      <form @submit.prevent=\"addProduct\" class=\"mb-3\">\r\n        <div class=\"form-group\">\r\n          <input type=\"text\" v-model=\"newProduct.title\" class=\"form-control input\" placeholder=\"Title\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <input type=\"text\" v-model=\"newProduct.brand\" class=\"form-control input\" placeholder=\"Brand\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <input type=\"text\" v-model=\"newProduct.description\" class=\"form-control input\" placeholder=\"Description\" required>\r\n        </div>\r\n        <button type=\"submit\" class=\"mt-30 inputBtn\">Add Product</button>\r\n      </form>\r\n    </div>\r\n    \r\n    <div class=\"row\">\r\n      <div class=\"col-md-4\" v-for=\"(product, index) in products\" :key=\"index\">\r\n        <div class=\"card mb-3\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">{{ product.title }}</h5>\r\n            <h6 class=\"card-subtitle mb-2 text-muted\">{{ product.brand }}</h6>\r\n            <p class=\"card-text\">{{ product.description }}</p>\r\n            <router-link :to=\"'/product/' + product.id\" class=\"nav-link\">Get Full Information</router-link>\r\n            <button @click=\"deleteProduct(product.id)\" class=\"input btn btn-danger\">Delete</button>\r\n            <button @click=\"openModal(product)\" class=\"input btn btn-dark c-blue\">Change Product</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"showModal\" class=\"modal\">\r\n      <div class=\"modal-content gap-10\">\r\n        <h4 class=\"mb-3\">Change Product</h4>\r\n        <div class=\"form-group\">\r\n          <input v-model=\"editedProductTitle\" class=\"form-control input wMax\" placeholder=\"New Title\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <input v-model=\"editedProductBrand\" class=\"form-control input wMax\" placeholder=\"New Brand\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <input v-model=\"editedProductDescription\" class=\"form-control input wMax\" placeholder=\"New Description\" required>\r\n        </div>\r\n        <button @click=\"updateProduct\" class=\"btn btn-dark inputBtn\">Save</button>\r\n        <button @click=\"closeModal\" class=\"btn btn-light inputBtn\">Cancel</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      newProduct: {\r\n        title: '',\r\n        brand: '',\r\n        description: ''\r\n      },\r\n      showModal: false,\r\n      editedProductTitle: '',\r\n      editedProductBrand: '',  \r\n      editedProductDescription: '',  \r\n      editedProductIndex: -1\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('productsdata', ['products'])\r\n  },\r\n  methods: {\r\n    ...mapActions('productsdata', ['GET_PRODUCTS', 'CREATE_PRODUCT', 'DELETE_PRODUCT', 'UPDATE_PRODUCT_BY_ID']),\r\n    async addProduct() {\r\n      await this.CREATE_PRODUCT(this.newProduct);\r\n      this.newProduct = { title: '', brand: '', description: '' };\r\n    },\r\n    async deleteProduct(productId) {\r\n    await this.DELETE_PRODUCT(productId);\r\n  },\r\n  openModal(product) {\r\n    this.editedProductIndex = this.products.findIndex(p => p.id === product.id);\r\n    this.editedProductTitle = product.title;\r\n    this.editedProductBrand = product.brand;\r\n    this.editedProductDescription = product.description; \r\n    this.showModal = true;\r\n},\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.editedProductIndex = -1;\r\n      this.editedProductTitle = '';\r\n    },\r\n    async updateProduct() {\r\n    if (this.editedProductIndex !== -1) {\r\n        const productId = this.products[this.editedProductIndex].id;\r\n        const updatedProductData = {\r\n          title: this.editedProductTitle,\r\n          brand: this.editedProductBrand,  \r\n          description: this.editedProductDescription  \r\n        };\r\n        await this.UPDATE_PRODUCT_BY_ID({ id: productId, updatedProductData });\r\n        this.closeModal();\r\n    }\r\n}\r\n\r\n  },\r\n  async created() {\r\n    await this.GET_PRODUCTS();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.mb-3 {\r\n    margin-bottom: 1rem!important;\r\n    display: flex;\r\n    gap: 20px;\r\n}\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.mt-30{\r\n  margin-top: 30px;\r\n}\r\n.wMax{\r\n  width: 100%;\r\n  color: #000;\r\n}\r\n.modal-content {\r\n  background-color: #fff;\r\n  padding: 20px 40px 20px 40px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);\r\n  width: 50%;\r\n}\r\n.c-blue{\r\n  color: blue;\r\n}\r\n.gap-10{\r\n  display: flex;\r\n  gap: 20px;\r\n}\r\n</style>"],"mappings":"AAqDA,SAASA,UAAU,EAAEC,QAAO,QAAS,MAAM;AAE3C,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;QACVC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE;MACf,CAAC;MACDC,SAAS,EAAE,KAAK;MAChBC,kBAAkB,EAAE,EAAE;MACtBC,kBAAkB,EAAE,EAAE;MACtBC,wBAAwB,EAAE,EAAE;MAC5BC,kBAAkB,EAAE,CAAC;IACvB;EACF,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGX,QAAQ,CAAC,cAAc,EAAE,CAAC,UAAU,CAAC;EAC1C,CAAC;EACDY,OAAO,EAAE;IACP,GAAGb,UAAU,CAAC,cAAc,EAAE,CAAC,cAAc,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,sBAAsB,CAAC,CAAC;IAC3G,MAAMc,UAAUA,CAAA,EAAG;MACjB,MAAM,IAAI,CAACC,cAAc,CAAC,IAAI,CAACZ,UAAU,CAAC;MAC1C,IAAI,CAACA,UAAS,GAAI;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,WAAW,EAAE;MAAG,CAAC;IAC7D,CAAC;IACD,MAAMU,aAAaA,CAACC,SAAS,EAAE;MAC/B,MAAM,IAAI,CAACC,cAAc,CAACD,SAAS,CAAC;IACtC,CAAC;IACDE,SAASA,CAACC,OAAO,EAAE;MACjB,IAAI,CAACT,kBAAiB,GAAI,IAAI,CAACU,QAAQ,CAACC,SAAS,CAACC,CAAA,IAAKA,CAAC,CAACC,EAAC,KAAMJ,OAAO,CAACI,EAAE,CAAC;MAC3E,IAAI,CAAChB,kBAAiB,GAAIY,OAAO,CAAChB,KAAK;MACvC,IAAI,CAACK,kBAAiB,GAAIW,OAAO,CAACf,KAAK;MACvC,IAAI,CAACK,wBAAuB,GAAIU,OAAO,CAACd,WAAW;MACnD,IAAI,CAACC,SAAQ,GAAI,IAAI;IACzB,CAAC;IACGkB,UAAUA,CAAA,EAAG;MACX,IAAI,CAAClB,SAAQ,GAAI,KAAK;MACtB,IAAI,CAACI,kBAAiB,GAAI,CAAC,CAAC;MAC5B,IAAI,CAACH,kBAAiB,GAAI,EAAE;IAC9B,CAAC;IACD,MAAMkB,aAAaA,CAAA,EAAG;MACtB,IAAI,IAAI,CAACf,kBAAiB,KAAM,CAAC,CAAC,EAAE;QAChC,MAAMM,SAAQ,GAAI,IAAI,CAACI,QAAQ,CAAC,IAAI,CAACV,kBAAkB,CAAC,CAACa,EAAE;QAC3D,MAAMG,kBAAiB,GAAI;UACzBvB,KAAK,EAAE,IAAI,CAACI,kBAAkB;UAC9BH,KAAK,EAAE,IAAI,CAACI,kBAAkB;UAC9BH,WAAW,EAAE,IAAI,CAACI;QACpB,CAAC;QACD,MAAM,IAAI,CAACkB,oBAAoB,CAAC;UAAEJ,EAAE,EAAEP,SAAS;UAAEU;QAAmB,CAAC,CAAC;QACtE,IAAI,CAACF,UAAU,CAAC,CAAC;MACrB;IACJ;EAEE,CAAC;EACD,MAAMI,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,YAAY,CAAC,CAAC;EAC3B;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}