{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport authService from '@/services/auth.service';\nimport router from '@/router';\nconst API_ENDPOINT = process.env.VUE_APP_API_ENDPOINT || \"http://127.0.0.1:8000/api\";\nlet httpClient = axios.create({\n  baseURL: API_ENDPOINT\n});\nhttpClient.interceptors.request.use(config => {\n  const token = authService.getToken();\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nhttpClient.interceptors.response.use(response => {\n  return response;\n}, async error => {\n  if (error.response && error.response.status === 401) {\n    await authService.logout();\n  }\n  if (error.response && error.response.status === 403) {\n    await router.push({\n      name: 'noAccess'\n    });\n  }\n  return Promise.reject(error);\n});\nexport default httpClient;","map":{"version":3,"names":["axios","authService","router","API_ENDPOINT","process","env","VUE_APP_API_ENDPOINT","httpClient","create","baseURL","interceptors","request","use","config","token","getToken","headers","Authorization","response","error","status","logout","push","name","Promise","reject"],"sources":["C:/Users/Vanckoe/OneDrive/Documents/work/Noncomercial/lara/crud/src/services/https.service.js"],"sourcesContent":["import axios from 'axios'\r\nimport authService from '@/services/auth.service';\r\nimport router from '@/router'\r\n\r\nconst API_ENDPOINT = process.env.VUE_APP_API_ENDPOINT || \"http://127.0.0.1:8000/api\";\r\n\r\nlet httpClient = axios.create({\r\n    baseURL: API_ENDPOINT\r\n});\r\n\r\nhttpClient.interceptors.request.use(config => {\r\n    const token = authService.getToken();\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\nhttpClient.interceptors.response.use(response => {\r\n    return response;\r\n}, async error => {\r\n    if (error.response && error.response.status === 401) {\r\n        await authService.logout();\r\n    }\r\n    if (error.response && error.response.status === 403) {\r\n        await router.push({name: 'noAccess'});\r\n    }\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport default httpClient;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,2BAA2B;AAEpF,IAAIC,UAAU,GAAGP,KAAK,CAACQ,MAAM,CAAC;EAC1BC,OAAO,EAAEN;AACb,CAAC,CAAC;AAEFI,UAAU,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EAC1C,MAAMC,KAAK,GAAGb,WAAW,CAACc,QAAQ,CAAC,CAAC;EACpC,IAAID,KAAK,EAAE;IACPD,MAAM,CAACG,OAAO,CAACC,aAAa,GAAI,UAASH,KAAM,EAAC;EACpD;EACA,OAAOD,MAAM;AACjB,CAAC,CAAC;AAEFN,UAAU,CAACG,YAAY,CAACQ,QAAQ,CAACN,GAAG,CAACM,QAAQ,IAAI;EAC7C,OAAOA,QAAQ;AACnB,CAAC,EAAE,MAAMC,KAAK,IAAI;EACd,IAAIA,KAAK,CAACD,QAAQ,IAAIC,KAAK,CAACD,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IACjD,MAAMnB,WAAW,CAACoB,MAAM,CAAC,CAAC;EAC9B;EACA,IAAIF,KAAK,CAACD,QAAQ,IAAIC,KAAK,CAACD,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IACjD,MAAMlB,MAAM,CAACoB,IAAI,CAAC;MAACC,IAAI,EAAE;IAAU,CAAC,CAAC;EACzC;EACA,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;AAChC,CAAC,CAAC;AAEF,eAAeZ,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}