{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Клиенты\", -1 /* HOISTED */);\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newClient.firstName = $event),\n    placeholder: \"Имя\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newClient.firstName]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newClient.lastName = $event),\n    placeholder: \"Фамилия\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newClient.lastName]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.addClient && $options.addClient(...args))\n  }, \"Добавить Клиента\")]), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.clients, client => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: client.id\n    }, [_createTextVNode(_toDisplayString(client.firstName) + \" \" + _toDisplayString(client.lastName) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.startEditClient(client)\n    }, \"Редактировать\", 8 /* PROPS */, _hoisted_2), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteClient(client.id)\n    }, \"Удалить\", 8 /* PROPS */, _hoisted_3)]);\n  }), 128 /* KEYED_FRAGMENT */))]), $data.selectedClient ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.selectedClient.firstName = $event),\n    placeholder: \"Имя\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedClient.firstName]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.selectedClient.lastName = $event),\n    placeholder: \"Фамилия\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedClient.lastName]]), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.confirmEditClient && $options.confirmEditClient(...args))\n  }, \"Сохранить изменения\"), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.cancelEditClient && $options.cancelEditClient(...args))\n  }, \"Отменить\")])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","type","$data","newClient","firstName","$event","placeholder","lastName","onClick","_cache","args","$options","addClient","_Fragment","_renderList","clients","client","key","id","_toDisplayString","startEditClient","_hoisted_2","deleteClient","_hoisted_3","selectedClient","_hoisted_4","confirmEditClient","cancelEditClient"],"sources":["C:\\Users\\Vanckoe\\OneDrive\\Documents\\work\\Noncomercial\\lara\\crud\\src\\views\\AdminClient.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h1>Клиенты</h1>\r\n      <div>\r\n        <input type=\"text\" v-model=\"newClient.firstName\" placeholder=\"Имя\">\r\n        <input type=\"text\" v-model=\"newClient.lastName\" placeholder=\"Фамилия\">\r\n        <button @click=\"addClient\">Добавить Клиента</button>\r\n      </div>\r\n      <ul>\r\n        <li v-for=\"client in clients\" :key=\"client.id\">\r\n          {{ client.firstName }} {{ client.lastName }}\r\n          <button @click=\"startEditClient(client)\">Редактировать</button>\r\n          <button @click=\"deleteClient(client.id)\">Удалить</button>\r\n        </li>\r\n      </ul>\r\n      <div v-if=\"selectedClient\">\r\n        <input type=\"text\" v-model=\"selectedClient.firstName\" placeholder=\"Имя\">\r\n        <input type=\"text\" v-model=\"selectedClient.lastName\" placeholder=\"Фамилия\">\r\n        <button @click=\"confirmEditClient\">Сохранить изменения</button>\r\n        <button @click=\"cancelEditClient\">Отменить</button>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        clients: [],\r\n        newClient: {\r\n          firstName: '',\r\n          lastName: ''\r\n        },\r\n        selectedClient: null,\r\n      };\r\n    },\r\n    created() {\r\n      this.loadClients();\r\n    },\r\n    methods: {\r\n      async loadClients() {\r\n        try {\r\n          const response = await axios.get('/client/clients');\r\n          this.clients = response.data;\r\n        } catch (error) {\r\n          console.error('Ошибка загрузки клиентов:', error);\r\n        }\r\n      },\r\n      async addClient() {\r\n        try {\r\n          const response = await axios.post('/api/clients', this.newClient);\r\n          this.clients.push(response.data);\r\n          this.newClient = { firstName: '', lastName: '' };\r\n        } catch (error) {\r\n          console.error('Ошибка добавления клиента:', error);\r\n        }\r\n      },\r\n      startEditClient(client) {\r\n        this.selectedClient = { ...client };\r\n      },\r\n      async confirmEditClient() {\r\n        try {\r\n          await axios.put(`/client/clients/${this.selectedClient.id}`, this.selectedClient);\r\n          this.loadClients();\r\n          this.selectedClient = null;\r\n        } catch (error) {\r\n          console.error('Ошибка редактирования клиента:', error);\r\n        }\r\n      },\r\n      cancelEditClient() {\r\n        this.selectedClient = null;\r\n      },\r\n      async deleteClient(id) {\r\n        try {\r\n          await axios.delete(`/client/clients/${id}`);\r\n          this.loadClients();\r\n        } catch (error) {\r\n          console.error('Ошибка удаления клиента:', error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  "],"mappings":";gCAEMA,mBAAA,CAAgB,YAAZ,SAAO;;;;;;;uBADbC,mBAAA,CAoBM,cAnBJC,UAAgB,EAChBF,mBAAA,CAIM,c,gBAHJA,mBAAA,CAAmE;IAA5DG,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAC,SAAS,CAACC,SAAS,GAAAC,MAAA;IAAEC,WAAW,EAAC;iDAAjCJ,KAAA,CAAAC,SAAS,CAACC,SAAS,E,mBAC/CN,mBAAA,CAAsE;IAA/DG,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAC,SAAS,CAACI,QAAQ,GAAAF,MAAA;IAAEC,WAAW,EAAC;iDAAhCJ,KAAA,CAAAC,SAAS,CAACI,QAAQ,E,GAC9CT,mBAAA,CAAoD;IAA3CU,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;KAAE,kBAAgB,E,GAE7CZ,mBAAA,CAMK,c,kBALHC,mBAAA,CAIKc,SAAA,QAAAC,WAAA,CAJgBZ,KAAA,CAAAa,OAAO,EAAjBC,MAAM;yBAAjBjB,mBAAA,CAIK;MAJ0BkB,GAAG,EAAED,MAAM,CAACE;0CACtCF,MAAM,CAACZ,SAAS,IAAG,GAAC,GAAAe,gBAAA,CAAGH,MAAM,CAACT,QAAQ,IAAG,GAC5C,iBAAAT,mBAAA,CAA+D;MAAtDU,OAAK,EAAAH,MAAA,IAAEM,QAAA,CAAAS,eAAe,CAACJ,MAAM;OAAG,eAAa,iBAAAK,UAAA,GACtDvB,mBAAA,CAAyD;MAAhDU,OAAK,EAAAH,MAAA,IAAEM,QAAA,CAAAW,YAAY,CAACN,MAAM,CAACE,EAAE;OAAG,SAAO,iBAAAK,UAAA,E;oCAGzCrB,KAAA,CAAAsB,cAAc,I,cAAzBzB,mBAAA,CAKM,OAAA0B,UAAA,G,gBAJJ3B,mBAAA,CAAwE;IAAjEG,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAsB,cAAc,CAACpB,SAAS,GAAAC,MAAA;IAAEC,WAAW,EAAC;iDAAtCJ,KAAA,CAAAsB,cAAc,CAACpB,SAAS,E,mBACpDN,mBAAA,CAA2E;IAApEG,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAsB,cAAc,CAACjB,QAAQ,GAAAF,MAAA;IAAEC,WAAW,EAAC;iDAArCJ,KAAA,CAAAsB,cAAc,CAACjB,QAAQ,E,GACnDT,mBAAA,CAA+D;IAAtDU,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAe,iBAAA,IAAAf,QAAA,CAAAe,iBAAA,IAAAhB,IAAA,CAAiB;KAAE,qBAAmB,GACtDZ,mBAAA,CAAmD;IAA1CU,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAgB,gBAAA,IAAAhB,QAAA,CAAAgB,gBAAA,IAAAjB,IAAA,CAAgB;KAAE,UAAQ,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}