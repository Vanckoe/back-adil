{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"AdminClient\"\n};\nconst _hoisted_2 = {\n  class: \"gap10\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" <div class=\\\"headTitle\\\">\\r\\n      <h1 class=\\\"titleReg\\\">Клиенты </h1>\\r\\n      <RouterLink :to=\\\"'/adminpage'\\\" class=\\\"nav-link\\\">Назад</RouterLink>\\r\\n    </div> \"), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"input\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newClient.firstName = $event),\n    placeholder: \"Имя\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newClient.firstName]]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"input\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newClient.lastName = $event),\n    placeholder: \"Фамилия\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newClient.lastName]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.addClient && $options.addClient(...args))\n  }, \"Добавить Клиента\")]), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.clients, client => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: client.id\n    }, [_createTextVNode(_toDisplayString(client.firstName) + \" \" + _toDisplayString(client.lastName) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.startEditClient(client)\n    }, \"Редактировать\", 8 /* PROPS */, _hoisted_3), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteClient(client.id)\n    }, \"Удалить\", 8 /* PROPS */, _hoisted_4)]);\n  }), 128 /* KEYED_FRAGMENT */))]), $data.selectedClient ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"input\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.selectedClient.firstName = $event),\n    placeholder: \"Имя\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedClient.firstName]]), _withDirectives(_createElementVNode(\"input\", {\n    class: \"input\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.selectedClient.lastName = $event),\n    placeholder: \"Фамилия\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.selectedClient.lastName]]), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.confirmEditClient && $options.confirmEditClient(...args))\n  }, \"Сохранить изменения\"), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.cancelEditClient && $options.cancelEditClient(...args))\n  }, \"Отменить\")])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","type","$data","newClient","firstName","$event","placeholder","lastName","onClick","_cache","args","$options","addClient","_Fragment","_renderList","clients","client","key","id","_toDisplayString","startEditClient","_hoisted_3","deleteClient","_hoisted_4","selectedClient","_hoisted_5","confirmEditClient","cancelEditClient"],"sources":["C:\\Users\\Vanckoe\\OneDrive\\Documents\\work\\Noncomercial\\lara\\crud\\src\\views\\AdminClient.vue"],"sourcesContent":["<template>\r\n  <div class=\"AdminClient\">\r\n    <!-- <div class=\"headTitle\">\r\n      <h1 class=\"titleReg\">Клиенты </h1>\r\n      <RouterLink :to=\"'/adminpage'\" class=\"nav-link\">Назад</RouterLink>\r\n    </div> -->\r\n\r\n\r\n    <div class=\"gap10\">\r\n      <input class=\"input\" type=\"text\" v-model=\"newClient.firstName\" placeholder=\"Имя\">\r\n      <input class=\"input\" type=\"text\" v-model=\"newClient.lastName\" placeholder=\"Фамилия\">\r\n      <button @click=\"addClient\">Добавить Клиента</button>\r\n    </div>\r\n    <ul>\r\n      <li v-for=\"client in clients\" :key=\"client.id\">\r\n        {{ client.firstName }} {{ client.lastName }}\r\n        <button @click=\"startEditClient(client)\">Редактировать</button>\r\n        <button @click=\"deleteClient(client.id)\">Удалить</button>\r\n      </li>\r\n    </ul>\r\n    <div v-if=\"selectedClient\">\r\n      <input class=\"input\" type=\"text\" v-model=\"selectedClient.firstName\" placeholder=\"Имя\">\r\n      <input class=\"input\" type=\"text\" v-model=\"selectedClient.lastName\" placeholder=\"Фамилия\">\r\n      <button @click=\"confirmEditClient\">Сохранить изменения</button>\r\n      <button @click=\"cancelEditClient\">Отменить</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<style>\r\n/* .headTitle{\r\n  display: flex;\r\n} */\r\n.gap10 {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.titleReg {\r\n  font-size: 32px;\r\n}\r\n\r\n\r\n.input {\r\n  margin-top: 20px;\r\n  border-radius: 10px;\r\n  border: none;\r\n  background-color: #f3f3f3;\r\n  padding: 10px;\r\n  width: 250px;\r\n}\r\n\r\n.input:active,\r\n.input:hover {\r\n  background-color: #f3f3f3;\r\n}\r\n\r\n.inputBtn {\r\n  min-width: 140px;\r\n  width: auto;\r\n  margin: 0;\r\n\r\n}\r\n\r\n.inputBtn:hover {\r\n  background-color: rgb(4, 187, 4);\r\n  color: white;\r\n}\r\n\r\n.accept {\r\n  display: flex;\r\n  width: 250px;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      clients: [],\r\n      newClient: {\r\n        firstName: '',\r\n        lastName: ''\r\n      },\r\n      selectedClient: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.loadClients();\r\n  },\r\n  methods: {\r\n    async loadClients() {\r\n      try {\r\n        const response = await axios.get('/client/clients');\r\n        this.clients = response.data;\r\n      } catch (error) {\r\n        console.error('Ошибка загрузки клиентов:', error);\r\n      }\r\n    },\r\n    async addClient() {\r\n      try {\r\n        const response = await axios.post('/api/clients', this.newClient);\r\n        this.clients.push(response.data);\r\n        this.newClient = { firstName: '', lastName: '' };\r\n      } catch (error) {\r\n        console.error('Ошибка добавления клиента:', error);\r\n      }\r\n    },\r\n    startEditClient(client) {\r\n      this.selectedClient = { ...client };\r\n    },\r\n    async confirmEditClient() {\r\n      try {\r\n        await axios.put(`/client/clients/${this.selectedClient.id}`, this.selectedClient);\r\n        this.loadClients();\r\n        this.selectedClient = null;\r\n      } catch (error) {\r\n        console.error('Ошибка редактирования клиента:', error);\r\n      }\r\n    },\r\n    cancelEditClient() {\r\n      this.selectedClient = null;\r\n    },\r\n    async deleteClient(id) {\r\n      try {\r\n        await axios.delete(`/client/clients/${id}`);\r\n        this.loadClients();\r\n      } catch (error) {\r\n        console.error('Ошибка удаления клиента:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n  "],"mappings":";;EACOA,KAAK,EAAC;AAAa;;EAOjBA,KAAK,EAAC;AAAO;;;;;;;uBAPpBC,mBAAA,CAyBM,OAzBNC,UAyBM,GAxBJC,mBAAA,2KAGU,EAGVC,mBAAA,CAIM,OAJNC,UAIM,G,gBAHJD,mBAAA,CAAiF;IAA1EJ,KAAK,EAAC,OAAO;IAACM,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAC,SAAS,CAACC,SAAS,GAAAC,MAAA;IAAEC,WAAW,EAAC;iDAAjCJ,KAAA,CAAAC,SAAS,CAACC,SAAS,E,mBAC7DL,mBAAA,CAAoF;IAA7EJ,KAAK,EAAC,OAAO;IAACM,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAC,SAAS,CAACI,QAAQ,GAAAF,MAAA;IAAEC,WAAW,EAAC;iDAAhCJ,KAAA,CAAAC,SAAS,CAACI,QAAQ,E,GAC5DR,mBAAA,CAAoD;IAA3CS,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;KAAE,kBAAgB,E,GAE7CX,mBAAA,CAMK,c,kBALHH,mBAAA,CAIKiB,SAAA,QAAAC,WAAA,CAJgBZ,KAAA,CAAAa,OAAO,EAAjBC,MAAM;yBAAjBpB,mBAAA,CAIK;MAJ0BqB,GAAG,EAAED,MAAM,CAACE;0CACtCF,MAAM,CAACZ,SAAS,IAAG,GAAC,GAAAe,gBAAA,CAAGH,MAAM,CAACT,QAAQ,IAAG,GAC5C,iBAAAR,mBAAA,CAA+D;MAAtDS,OAAK,EAAAH,MAAA,IAAEM,QAAA,CAAAS,eAAe,CAACJ,MAAM;OAAG,eAAa,iBAAAK,UAAA,GACtDtB,mBAAA,CAAyD;MAAhDS,OAAK,EAAAH,MAAA,IAAEM,QAAA,CAAAW,YAAY,CAACN,MAAM,CAACE,EAAE;OAAG,SAAO,iBAAAK,UAAA,E;oCAGzCrB,KAAA,CAAAsB,cAAc,I,cAAzB5B,mBAAA,CAKM,OAAA6B,UAAA,G,gBAJJ1B,mBAAA,CAAsF;IAA/EJ,KAAK,EAAC,OAAO;IAACM,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAsB,cAAc,CAACpB,SAAS,GAAAC,MAAA;IAAEC,WAAW,EAAC;iDAAtCJ,KAAA,CAAAsB,cAAc,CAACpB,SAAS,E,mBAClEL,mBAAA,CAAyF;IAAlFJ,KAAK,EAAC,OAAO;IAACM,IAAI,EAAC,MAAM;+DAAUC,KAAA,CAAAsB,cAAc,CAACjB,QAAQ,GAAAF,MAAA;IAAEC,WAAW,EAAC;iDAArCJ,KAAA,CAAAsB,cAAc,CAACjB,QAAQ,E,GACjER,mBAAA,CAA+D;IAAtDS,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAe,iBAAA,IAAAf,QAAA,CAAAe,iBAAA,IAAAhB,IAAA,CAAiB;KAAE,qBAAmB,GACtDX,mBAAA,CAAmD;IAA1CS,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAgB,gBAAA,IAAAhB,QAAA,CAAAgB,gBAAA,IAAAjB,IAAA,CAAgB;KAAE,UAAQ,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}