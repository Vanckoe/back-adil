{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport httpClient from \"./https.service\";\nimport router from \"@/router\";\nconst authService = {\n  async login(formData) {\n    console.log(\"ewfwe\");\n    try {\n      const response = await httpClient.post('/auth/login', formData);\n      if (response && response.data) {\n        localStorage.setItem('authToken', response.data.access_token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n        localStorage.setItem('roles', response.data.user.roles[0]);\n        console.log(localStorage.getItem('authToken'));\n        return {\n          success: true,\n          data: response.data\n        };\n      } else {\n        return {\n          success: false,\n          data: null,\n          errors: {\n            message: 'No response data'\n          }\n        };\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        errors: error.response ? error.response.data.errors : error\n      };\n    }\n  },\n  logout() {\n    localStorage.clear();\n    router.push({\n      name: 'login'\n    });\n  },\n  getToken() {\n    return localStorage.getItem('authToken');\n  },\n  getUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  },\n  isLoggedIn() {\n    return !!this.getToken();\n  }\n};\nexport default authService;","map":{"version":3,"names":["httpClient","router","authService","login","formData","console","log","response","post","data","localStorage","setItem","access_token","JSON","stringify","user","roles","getItem","success","errors","message","error","logout","clear","push","name","getToken","getUser","parse","isLoggedIn"],"sources":["C:/Users/Vanckoe/OneDrive/Documents/work/Noncomercial/lara/crud/src/services/auth.service.js"],"sourcesContent":["import httpClient from \"./https.service\"\r\nimport router from \"@/router\"\r\n\r\nconst authService = {\r\n\r\n    async login(formData) {\r\n        console.log(\"ewfwe\");\r\n        try {\r\n            const response = await httpClient.post('/auth/login', formData);\r\n            if (response && response.data) {\r\n                localStorage.setItem('authToken', response.data.access_token);\r\n                localStorage.setItem('user', JSON.stringify(response.data.user));\r\n                localStorage.setItem('roles', response.data.user.roles[0]);\r\n                console.log(localStorage.getItem('authToken'));\r\n\r\n\r\n                return { success: true, data: response.data };\r\n            } else {\r\n                return { success: false, data: null, errors: { message: 'No response data' } };\r\n            }\r\n        } catch (error) {\r\n            return { success: false, data: null, errors: error.response ? error.response.data.errors : error };\r\n        }\r\n    },\r\n    logout() {\r\n        localStorage.clear();\r\n        router.push({ name: 'login' });\r\n    },\r\n    getToken() {\r\n        return localStorage.getItem('authToken');\r\n    },\r\n    getUser() {\r\n        return JSON.parse(localStorage.getItem('user'));\r\n    },\r\n    isLoggedIn() {\r\n        return !!this.getToken();\r\n    }\r\n}\r\n\r\nexport default authService;\r\n"],"mappings":";AAAA,OAAOA,UAAU,MAAM,iBAAiB;AACxC,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,WAAW,GAAG;EAEhB,MAAMC,KAAKA,CAACC,QAAQ,EAAE;IAClBC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACpB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMP,UAAU,CAACQ,IAAI,CAAC,aAAa,EAAEJ,QAAQ,CAAC;MAC/D,IAAIG,QAAQ,IAAIA,QAAQ,CAACE,IAAI,EAAE;QAC3BC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,QAAQ,CAACE,IAAI,CAACG,YAAY,CAAC;QAC7DF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEE,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC;QAChEL,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,QAAQ,CAACE,IAAI,CAACM,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC1DX,OAAO,CAACC,GAAG,CAACI,YAAY,CAACO,OAAO,CAAC,WAAW,CAAC,CAAC;QAG9C,OAAO;UAAEC,OAAO,EAAE,IAAI;UAAET,IAAI,EAAEF,QAAQ,CAACE;QAAK,CAAC;MACjD,CAAC,MAAM;QACH,OAAO;UAAES,OAAO,EAAE,KAAK;UAAET,IAAI,EAAE,IAAI;UAAEU,MAAM,EAAE;YAAEC,OAAO,EAAE;UAAmB;QAAE,CAAC;MAClF;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,OAAO;QAAEH,OAAO,EAAE,KAAK;QAAET,IAAI,EAAE,IAAI;QAAEU,MAAM,EAAEE,KAAK,CAACd,QAAQ,GAAGc,KAAK,CAACd,QAAQ,CAACE,IAAI,CAACU,MAAM,GAAGE;MAAM,CAAC;IACtG;EACJ,CAAC;EACDC,MAAMA,CAAA,EAAG;IACLZ,YAAY,CAACa,KAAK,CAAC,CAAC;IACpBtB,MAAM,CAACuB,IAAI,CAAC;MAAEC,IAAI,EAAE;IAAQ,CAAC,CAAC;EAClC,CAAC;EACDC,QAAQA,CAAA,EAAG;IACP,OAAOhB,YAAY,CAACO,OAAO,CAAC,WAAW,CAAC;EAC5C,CAAC;EACDU,OAAOA,CAAA,EAAG;IACN,OAAOd,IAAI,CAACe,KAAK,CAAClB,YAAY,CAACO,OAAO,CAAC,MAAM,CAAC,CAAC;EACnD,CAAC;EACDY,UAAUA,CAAA,EAAG;IACT,OAAO,CAAC,CAAC,IAAI,CAACH,QAAQ,CAAC,CAAC;EAC5B;AACJ,CAAC;AAED,eAAexB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}