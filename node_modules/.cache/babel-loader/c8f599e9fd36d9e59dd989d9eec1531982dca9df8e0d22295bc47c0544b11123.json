{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport httpClient from \"./https.service\";\nimport router from \"@/router\";\nconst authService = {\n  async login(formData) {\n    try {\n      const response = await httpClient.post('/auth/login', formData);\n      if (response && response.data) {\n        localStorage.setItem('authToken', response.data.access_token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n        localStorage.setItem('roles', response.data.user.roles[0]);\n        return {\n          success: true,\n          data: response.data\n        };\n      } else {\n        return {\n          success: false,\n          data: null,\n          errors: {\n            message: 'No response data'\n          }\n        };\n      }\n    } catch (error) {\n      return {\n        success: false,\n        data: null,\n        errors: error.response ? error.response.data.errors : error\n      };\n    }\n  },\n  logout() {\n    localStorage.clear();\n    router.push({\n      name: 'login'\n    });\n  },\n  getToken() {\n    return localStorage.getItem('authToken');\n  },\n  getUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  },\n  isLoggedIn() {\n    return !!this.getToken();\n  }\n};\nexport default authService;","map":{"version":3,"names":["httpClient","router","authService","login","formData","response","post","data","localStorage","setItem","access_token","JSON","stringify","user","roles","success","errors","message","error","logout","clear","push","name","getToken","getItem","getUser","parse","isLoggedIn"],"sources":["C:/Users/Vanckoe/OneDrive/Documents/work/Noncomercial/lara/crud/src/services/auth.service.js"],"sourcesContent":["import httpClient from \"./https.service\"\r\nimport router from \"@/router\"\r\n\r\nconst authService = {\r\n    async login(formData) {\r\n        try {\r\n            const response = await httpClient.post('/auth/login', formData);\r\n            if (response && response.data) {\r\n                localStorage.setItem('authToken', response.data.access_token);\r\n                localStorage.setItem('user', JSON.stringify(response.data.user)); \r\n                localStorage.setItem('roles', response.data.user.roles[0]); \r\n\r\n                return { success: true, data: response.data };\r\n            } else {\r\n                return { success: false, data: null, errors: { message: 'No response data' }};\r\n            }\r\n        } catch (error) {\r\n            return { success: false, data: null, errors: error.response ? error.response.data.errors : error };\r\n        }\r\n    },\r\n    logout() {\r\n        localStorage.clear();\r\n        router.push({name: 'login'});\r\n    },\r\n    getToken() {\r\n        return localStorage.getItem('authToken');\r\n    },\r\n    getUser() {\r\n        return JSON.parse(localStorage.getItem('user'));\r\n    },\r\n    isLoggedIn() {\r\n        return !!this.getToken();\r\n    }\r\n}\r\n\r\nexport default authService;\r\n"],"mappings":";AAAA,OAAOA,UAAU,MAAM,iBAAiB;AACxC,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,WAAW,GAAG;EAChB,MAAMC,KAAKA,CAACC,QAAQ,EAAE;IAClB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAML,UAAU,CAACM,IAAI,CAAC,aAAa,EAAEF,QAAQ,CAAC;MAC/D,IAAIC,QAAQ,IAAIA,QAAQ,CAACE,IAAI,EAAE;QAC3BC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,QAAQ,CAACE,IAAI,CAACG,YAAY,CAAC;QAC7DF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEE,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC;QAChEL,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,QAAQ,CAACE,IAAI,CAACM,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;QAE1D,OAAO;UAAEC,OAAO,EAAE,IAAI;UAAER,IAAI,EAAEF,QAAQ,CAACE;QAAK,CAAC;MACjD,CAAC,MAAM;QACH,OAAO;UAAEQ,OAAO,EAAE,KAAK;UAAER,IAAI,EAAE,IAAI;UAAES,MAAM,EAAE;YAAEC,OAAO,EAAE;UAAmB;QAAC,CAAC;MACjF;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,OAAO;QAAEH,OAAO,EAAE,KAAK;QAAER,IAAI,EAAE,IAAI;QAAES,MAAM,EAAEE,KAAK,CAACb,QAAQ,GAAGa,KAAK,CAACb,QAAQ,CAACE,IAAI,CAACS,MAAM,GAAGE;MAAM,CAAC;IACtG;EACJ,CAAC;EACDC,MAAMA,CAAA,EAAG;IACLX,YAAY,CAACY,KAAK,CAAC,CAAC;IACpBnB,MAAM,CAACoB,IAAI,CAAC;MAACC,IAAI,EAAE;IAAO,CAAC,CAAC;EAChC,CAAC;EACDC,QAAQA,CAAA,EAAG;IACP,OAAOf,YAAY,CAACgB,OAAO,CAAC,WAAW,CAAC;EAC5C,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,OAAOd,IAAI,CAACe,KAAK,CAAClB,YAAY,CAACgB,OAAO,CAAC,MAAM,CAAC,CAAC;EACnD,CAAC;EACDG,UAAUA,CAAA,EAAG;IACT,OAAO,CAAC,CAAC,IAAI,CAACJ,QAAQ,CAAC,CAAC;EAC5B;AACJ,CAAC;AAED,eAAerB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}